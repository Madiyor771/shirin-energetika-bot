<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shirin Energetika Texnikumi</title>
    <style>
        /* Umumiy uslublar */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Sarlavha va navigatsiya */
        header {
            background: linear-gradient(135deg, #1e5799, #207cca);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
        }
        
        .logo img {
            height: 60px;
            margin-right: 15px;
            border-radius: 8px;
        }
        
        .logo-text h1 {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        .logo-text p {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 20px;
        }
        
        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.3s;
        }
        
        nav ul li a:hover, 
        nav ul li a.active {
            background: rgba(255,255,255,0.2);
        }
        
        /* Hero bo'limi */
        .hero {
            background: linear-gradient(135deg, #1e5799, #207cca);
            height: 500px;
            display: flex;
            align-items: center;
            color: white;
            text-align: center;
            position: relative;
            margin-top: 80px;
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
            width: 100%;
        }
        
        .hero h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 30px;
        }
        
        .btn {
            display: inline-block;
            background: #ff6b35;
            color: white;
            padding: 12px 30px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            transition: background 0.3s;
        }
        
        .btn:hover {
            background: #e55a2b;
        }
        
        /* Asosiy bo'limlar */
        section {
            padding: 60px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .section-title h2 {
            font-size: 2rem;
            color: #1e5799;
            margin-bottom: 10px;
        }
        
        .section-title p {
            color: #666;
            max-width: 700px;
            margin: 0 auto;
        }
        
        /* Kollej haqida */
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: center;
        }
        
        .about-image img {
            width: 100%;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .about-text h3 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #1e5799;
        }
        
        .about-text p {
            margin-bottom: 15px;
        }
        
        .about-text ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        .about-text li {
            margin-bottom: 8px;
        }
        
        /* Dars jadvali */
        .timetable-controls {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .timetable-controls select {
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .timetable {
            overflow-x: auto;
            margin-top: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 20px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border: 1px solid #ddd;
        }
        
        th {
            background-color: #1e5799;
            color: white;
            text-align: center;
        }
        
        .time-column {
            background-color: #f0f8ff;
            font-weight: bold;
            text-align: center;
            width: 80px;
        }
        
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        
        tr:hover {
            background-color: #e9f7fe;
        }
        
        .day-header {
            background-color: #2c6bb0;
            text-align: center;
        }
        
        /* O'quvchilar va o'qituvchilar */
        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-img {
            height: 200px;
            overflow: hidden;
            background: linear-gradient(135deg, #1e5799, #207cca);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        .card-content {
            padding: 20px;
        }
        
        .card-content h3 {
            margin-bottom: 10px;
            color: #1e5799;
        }
        
        .card-content p {
            margin-bottom: 5px;
            color: #666;
        }
        
        /* Yangiliklar */
        .news-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
        }
        
        .news-item {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .news-img {
            height: 200px;
            overflow: hidden;
            background: linear-gradient(135deg, #1e5799, #207cca);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.1rem;
            font-weight: bold;
        }
        
        .news-content {
            padding: 20px;
        }
        
        .news-date {
            color: #888;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        
        .news-content h3 {
            margin-bottom: 10px;
            color: #1e5799;
        }
        
        /* Aloqa */
        .contact-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }
        
        .contact-info h3 {
            margin-bottom: 20px;
            color: #1e5799;
        }
        
        .contact-item {
            display: flex;
            margin-bottom: 15px;
        }
        
        .contact-icon {
            width: 40px;
            height: 40px;
            background: #1e5799;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
        }
        
        /* AI Chat Support */
        .ai-chat-support {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .ai-chat-btn {
            background: #1e5799;
            color: white;
            border: none;
            border-radius: 50px;
            padding: 15px 25px;
            font-size: 16px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            transition: all 0.3s;
        }
        
        .ai-chat-btn:hover {
            background: #207cca;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }
        
        .ai-chat-btn i {
            margin-right: 10px;
            font-size: 20px;
        }
        
        /* Chat Modal */
        .chat-modal {
            display: none;
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 350px;
            height: 500px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.2);
            z-index: 1001;
            flex-direction: column;
            overflow: hidden;
        }
        
        .chat-header {
            background: #1e5799;
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chat-header h3 {
            margin: 0;
            font-size: 18px;
        }
        
        .close-chat {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
        }
        
        .chat-body {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .chat-message {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 18px;
            margin-bottom: 10px;
        }
        
        .bot-message {
            background: #f0f0f0;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }
        
        .user-message {
            background: #1e5799;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        
        .chat-input {
            display: flex;
            padding: 15px;
            border-top: 1px solid #eee;
        }
        
        .chat-input input {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
        }
        
        .send-btn {
            background: #1e5799;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            margin-left: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .loading {
            opacity: 0.7;
        }
        
        /* Footer */
        footer {
            background: #1e5799;
            color: white;
            padding: 40px 0 20px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .footer-section h3 {
            margin-bottom: 20px;
            font-size: 1.2rem;
        }
        
        .footer-section p, 
        .footer-section a {
            color: rgba(255,255,255,0.8);
            margin-bottom: 10px;
            display: block;
            text-decoration: none;
        }
        
        .footer-section a:hover {
            color: white;
        }
        
        .social-links {
            display: flex;
            gap: 15px;
        }
        
        .social-links a {
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }
        
        .social-links a:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.7);
            font-size: 0.9rem;
        }
        
        /* Responsive dizayn */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            nav ul {
                margin-top: 20px;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            nav ul li {
                margin: 5px 10px;
            }
            
            .hero h2 {
                font-size: 2rem;
            }
            
            .about-content,
            .contact-container {
                grid-template-columns: 1fr;
            }
            
            .timetable-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .timetable-controls select {
                margin: 5px 0;
                width: 100%;
                max-width: 300px;
            }
            
            .chat-modal {
                width: 90%;
                right: 5%;
                height: 70%;
            }
        }
    </style>
</head>
<body>
    <!-- Sarlavha va navigatsiya -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="card-img" style="height: 60px; width: 60px; border-radius: 8px; margin-right: 15px;">
                        SET
                    </div>
                    <div class="logo-text">
                        <h1>Shirin Energetika Texnikumi</h1>
                        <p>Sirdaryo viloyati, Shirin shahri</p>
                    </div>
                </div>
                <nav>
                    <ul>
                        <li><a href="#home" class="active">Bosh sahifa</a></li>
                        <li><a href="#about">Kollej haqida</a></li>
                        <li><a href="#timetable">Dars jadvali</a></li>
                        <li><a href="#students">O'quvchilar</a></li>
                        <li><a href="#teachers">O'qituvchilar</a></li>
                        <li><a href="#news">Yangiliklar</a></li>
                        <li><a href="#contact">Aloqa</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero bo'limi -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h2>Shirin Energetika Texnikumiga Xush Kelibsiz!</h2>
                <p>Bizning texnikumda zamonaviy ta'lim texnologiyalari asosida malakali mutaxassislar tayyorlanadi</p>
                <a href="#about" class="btn">Batafsil ma'lumot</a>
            </div>
        </div>
    </section>

    <!-- Kollej haqida -->
    <section id="about">
        <div class="container">
            <div class="section-title">
                <h2>Kollej Haqida</h2>
                <p>Shirin Energetika Texnikumi - Sirdaryo viloyatidagi eng yirik va nufuzli kasb-hunar ta'lim muassasalaridan biri</p>
            </div>
            <div class="about-content">
                <div class="about-image">
                    <div class="card-img" style="height: 400px;">
                        KOLLEJ BINOSI
                    </div>
                </div>
                <div class="about-text">
                    <h3>Bizning Tarix va Maqsadlarimiz</h3>
                    <p>Shirin Energetika Texnikumi 1995-yilda tashkil etilgan bo'lib, o'tgan yillar davomida minglab malakali mutaxassislarni tayyorlab, mamlakatimiz energetika sohasiga katta hissa qo'shdi.</p>
                    <p>Bizning maqsadimiz - zamonaviy bilim va texnologiyalar asosida malakali, ijodiy va mas'uliyatli mutaxassislar tayyorlash, ularni ish bilan ta'minlash va ularning kasbiy rivojlanishini qo'llab-quvvatlash.</p>
                    <p>Texnikumda quyidagi yo'nalishlar bo'yicha ta'lim beriladi:</p>
                    <ul>
                        <li>Elektr energetikasi</li>
                        <li>Issiqlik energetikasi</li>
                        <li>Energetika tarmoqlari va tizimlari</li>
                        <li>Qayta tiklanuvchi energiya manbalari</li>
                        <li>Axborot vositalari va mashinalariga texnik xizmat ko'rsatish operatori</li>
                        <li>Elektr montyori</li>
                        <li>Payvandchi</li>
                        <li>Avtomobil transporti</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Dars jadvali -->
    <section id="timetable">
        <div class="container">
            <div class="section-title">
                <h2>Dars Jadvali</h2>
                <p>Guruhlar bo'yicha dars jadvalini ko'rib chiqing</p>
            </div>
            <div class="timetable-controls">
                <select id="group-select">
                    <option value="">Guruhni tanlang</option>
                    <option value="avm1-25a">AVM-1-25 "A"</option>
                    <option value="avm1-25b">AVM-1-25 "B"</option>
                    <option value="avm1-25rus">AVM-1-25 "Rus"</option>
                    <option value="esu1-25">ESU-1-25</option>
                    <option value="qtem1-25">Q.T.E.M-1-25</option>
                    <option value="em1-25">EM-1-25</option>
                    <option value="p1-25">P-1-25</option>
                    <option value="at1-25">AT-1-25</option>
                    <option value="avm2-24" selected>AVM-2-24</option>
                    <option value="avm2-24rus">AVM-2-24 "Rus"</option>
                    <option value="esu2-24">ESU-2-24</option>
                    <option value="em2-24">EM-2-24</option>
                    <option value="p2-24">P-2-24</option>
                    <option value="at2-24">AT-2-24</option>
                </select>
                <select id="day-select">
                    <option value="all" selected>Barcha kunlar</option>
                    <option value="monday">Dushanba</option>
                    <option value="tuesday">Seshanba</option>
                    <option value="wednesday">Chorshanba</option>
                    <option value="thursday">Payshanba</option>
                    <option value="friday">Juma</option>
                </select>
            </div>
            <div class="timetable">
                <table id="schedule-table">
                    <thead>
                        <tr>
                            <th class="time-column">Dars</th>
                            <th class="day-header">Dushanba</th>
                            <th class="day-header">Seshanba</th>
                            <th class="day-header">Chorshanba</th>
                            <th class="day-header">Payshanba</th>
                            <th class="day-header">Juma</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- JavaScript orqali to'ldiriladi -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- O'quvchilar -->
    <section id="students">
        <div class="container">
            <div class="section-title">
                <h2>O'quvchilar</h2>
                <p>Bizning faol va istiqbolli o'quvchilarimiz</p>
            </div>
            <div class="cards-container" id="students-container">
                <!-- JavaScript orqali to'ldiriladi -->
            </div>
        </div>
    </section>

    <!-- O'qituvchilar -->
    <section id="teachers">
        <div class="container">
            <div class="section-title">
                <h2>O'qituvchilar</h2>
                <p>Bizning malakali va tajribali o'qituvchilarimiz</p>
            </div>
            <div class="cards-container" id="teachers-container">
                <!-- JavaScript orqali to'ldiriladi -->
            </div>
        </div>
    </section>

    <!-- Yangiliklar -->
    <section id="news">
        <div class="container">
            <div class="section-title">
                <h2>Yangiliklar</h2>
                <p>Kollej hayotidagi eng so'nggi yangiliklar</p>
            </div>
            <div class="news-container" id="news-container">
                <!-- JavaScript orqali to'ldiriladi -->
            </div>
        </div>
    </section>

    <!-- Aloqa -->
    <section id="contact">
        <div class="container">
            <div class="section-title">
                <h2>Aloqa</h2>
                <p>Biz bilan bog'laning va savollaringizga javob oling</p>
            </div>
            <div class="contact-container">
                <div class="contact-info">
                    <h3>Aloqa ma'lumotlari</h3>
                    <div class="contact-item">
                        <div class="contact-icon">üìç</div>
                        <div>
                            <p><strong>Manzil:</strong></p>
                            <p>Sirdaryo viloyati, Shirin shahri, Universitet ko'chasi, 12-uy</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">üìû</div>
                        <div>
                            <p><strong>Telefon:</strong></p>
                            <p>+998 67 123 45 67</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">‚úâÔ∏è</div>
                        <div>
                            <p><strong>Email:</strong></p>
                            <p>info@shirinenergetika.uz</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">üåê</div>
                        <div>
                            <p><strong>Veb-sayt:</strong></p>
                            <p>www.shirinenergetika.uz</p>
                        </div>
                    </div>
                </div>
                <div class="contact-info">
                    <h3>Ish vaqti</h3>
                    <div class="contact-item">
                        <div class="contact-icon">üïí</div>
                        <div>
                            <p><strong>Dushanba - Juma:</strong></p>
                            <p>8:00 - 17:00</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">üïí</div>
                        <div>
                            <p><strong>Shanba:</strong></p>
                            <p>8:00 - 14:00</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">üïí</div>
                        <div>
                            <p><strong>Yakshanba:</strong></p>
                            <p>Dam olish kuni</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Chat Support -->
    <div class="ai-chat-support">
        <button class="ai-chat-btn">
            <i>ü§ñ</i> AI Yordam
        </button>
    </div>

    <!-- Chat Modal -->
    <div class="chat-modal" id="chatModal">
        <div class="chat-header">
            <h3>AI Yordamchi</h3>
            <button class="close-chat">&times;</button>
        </div>
        <div class="chat-body" id="chatBody">
            <div class="chat-message bot-message">
                <p>Salom! Men Shirin Energetika Texnikumi AI yordamchisiman. Sizga qanday yordam bera olaman?</p>
            </div>
        </div>
        <div class="chat-input">
            <input type="text" id="chatInput" placeholder="Xabaringizni yozing...">
            <button class="send-btn" id="sendBtn">‚û§</button>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Shirin Energetika Texnikumi</h3>
                    <p>Sirdaryo viloyati, Shirin shahri, Universitet ko'chasi, 12-uy</p>
                    <p>Telefon: +998 67 123 45 67</p>
                    <p>Email: info@shirinenergetika.uz</p>
                </div>
                <div class="footer-section">
                    <h3>Tez havolalar</h3>
                    <a href="#home">Bosh sahifa</a>
                    <a href="#about">Kollej haqida</a>
                    <a href="#timetable">Dars jadvali</a>
                    <a href="#students">O'quvchilar</a>
                    <a href="#teachers">O'qituvchilar</a>
                    <a href="#news">Yangiliklar</a>
                    <a href="#contact">Aloqa</a>
                </div>
                <div class="footer-section">
                    <h3>Bizni kuzatib boring</h3>
                    <div class="social-links">
                        <a href="#">üìò</a>
                        <a href="#">üì∑</a>
                        <a href="#">üì±</a>
                        <a href="#">üì∫</a>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 Shirin Energetika Texnikumi. Barcha huquqlar himoyalangan.</p>
            </div>
        </div>
    </footer>

    <script>
        // ==================== OPENAI API CONFIGURATION ====================
        const OPENAI_API_KEY = "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";
        const OPENAI_API_URL = "https://api.openai.com/v1/chat/completions";

        // ==================== DARS JADVALI MA'LUMOTLARI ====================
        const scheduleData = {
            "avm1-25a": {
                monday: ["Ma'naviyat soati Abdulatipova S", "Rus tili Xayitboyeva M 102", "Ona tili O'rinboyev F 404", "Matematika Shukurova G 408"],
                tuesday: ["Tarbiya Djumaboyeva D 206", "Kompyuter arxitekturasi Ofis jihozlariga tex xiz Xusanov S 213", "Web dasturlash Xidirov A 215", "Ingliz tili Xayitboyeva R Abdulatipova S 414/411"],
                wednesday: ["MATEMATIKA Shukurova G 408", "TARIX Ne'majionov I 407", "INGLIZ TILI Xamidova R/ Abdulatipova S 414/411", "MATEMATIKA Shukurova G 408"],
                thursday: ["Matematika Shukurova G 408", "Informatika Abloqulovi Shukurov 203/213", "CH.Q.B.T Yoldoshov F 102", "Ingliz tili Yamidova/Abdulatipova S 414411"],
                friday: ["Ing tili Xamidova R/Abdulatipova M 414411", "Ing tili Xamidova R/Abdulatipova M 414411", "Fizika Shobutayeva D 201", ""]
            },
            "avm1-25b": {
                monday: ["Ma'naviyat soati Xusanov S", "Ingliz tili Abdulatipova SAbdullaeva M 410411", "Kompyuter arxitekturasi va ofis jihozlariga teknik xizmat korsatish Shonazarov J106", "Jismonly Tarbiya Azimjonov S"],
                tuesday: ["Ingliz tili Abdulatipova S Abdullaeva M 410/411", "Rus tili Xayitboyeva M 401", "Fizika Shobutayeva D 201", ""],
                wednesday: ["TARIX Ne'majionov I 407", "INGLIZ TILI Abdulatipova S/Abdullayeva 410/411", "INFORMATIKA Abloquilov A/Shukurov A 213/203", ""],
                thursday: ["Kompyuter arkitekturasi Ofis jihozlariga teknik xizmat ko'rsatish O'A Xusanov S", "Matematika Shukurova G 408", "Informatika Abloqulovi Shukurov 203/213", "CH.Q.B.T Yoldoshov F 102"],
                friday: ["Ona tili Sayfulaeva B 409", "Jismoniy tarbiya Azimjonov S", "Ingliz tili Abdulatipova Sabdullaeva M 410411", ""]
            },
            "avm2-24": {
                monday: ["Ma'naviyat soati Xayitova B", "Web dasturlash Xidirov A 215", "Ingliz tili Xayitova B Tolibjonova M 403413", "Informatika Abloqulov A Shukurov A 203213"],
                tuesday: ["Fizika Shobutayeva D 201", "CH.Q.B.T Yoldoshov F 206", "Kompyuter tizimlarining dasturiy ta'minoti Xusanov S 213", "Matematika Shukurova G 408"],
                wednesday: ["D.X.A Djumaboyeva D 206", "ONA TILI O'rinboyev F 404", "Axborot xavfsizligi Xusanov S 215", ""],
                thursday: ["Dasturlash asoslari Xidirov A 215", "Tarix Nematjonov I 407", "Biznes Asoslari Ashurov Usrolov J 409", ""],
                friday: ["Web dasturlash Xidirov A", "Shaxsiy kompyuter arxitekturasi va ofis jihozlariga texnik xizmat ko'rsatish O'A Ablogulov A 214", "Ochoobi programma Shonazarov J 106", ""]
            }
        };

        // ==================== MA'LUMOTLAR ====================
        const studentsData = [
            {name: "Aliyev Aziz", group: "AVM-1-25A", specialty: "Axborot vositalari va mashinalari", birthDate: "2008-03-15", address: "Shirin shahri, Yangiobod tumani", phone: "+998 90 123 45 67", email: "aziz.aliyev@example.uz", achievements: ["2024-yil 'Eng yaxshi dasturchi' tanlovi g'olibi", "Matematika olimpiadasi 2-o'rin"]},
            {name: "Hasanova Malika", group: "EM-1-25", specialty: "Elektr montyori", birthDate: "2007-11-22", address: "Shirin shahri, Markaziy tuman", phone: "+998 91 234 56 78", email: "malika.hasanova@example.uz", achievements: ["Elektr texnikasi bo'yicha respublika tanlovi ishtirokchisi", "Yilning eng faol o'quvchisi"]}
        ];

        const teachersData = [
            {name: "Rashidov Anvar", position: "Direktor", specialty: "Energetika", experience: "25 yil", education: "Toshkent Energetika Universiteti", subjects: ["Energetika asoslari", "Elektr stansiyalari"]},
            {name: "Ismailova Gulnora", position: "O'qituvchi", specialty: "Elektr texnikasi", experience: "15 yil", education: "Toshkent Texnika Universiteti", subjects: ["Elektr texnikasi", "Elektr mashinalari"]}
        ];

        const newsData = [
            {title: "Yangi o'quv yili boshlanishi", date: "2025-09-01", content: "2025-2026 o'quv yili tantanali marosim bilan boshlanadi. Barcha o'quvchilar va o'qituvchilarni 1-sentabr kuni soat 9:00 da kollej binosida kutamiz."},
            {title: "Energetika olimpiadasi", date: "2025-10-15", content: "Respublika energetika olimpiadasida bizning kollej talabalari birinchi o'rinni qo'lga kiritdi. G'oliblarni qalbimizdan tabriklaymiz!"}
        ];

        // ==================== OPENAI AI CHAT FUNCTIONS ====================
        async function sendToAIBot(message) {
            try {
                const response = await fetch(OPENAI_API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${OPENAI_API_KEY}`
                    },
                    body: JSON.stringify({
                        model: "gpt-3.5-turbo",
                        messages: [
                            {
                                role: "system",
                                content: `Siz Shirin Energetika Texnikumi yordamchi botsiz. 
                                Kollej haqida ma'lumot:
                                - Manzil: Sirdaryo viloyati, Shirin shahri, Universitet ko'chasi, 12-uy
                                - Telefon: +998 67 123 45 67
                                - Email: info@shirinenergetika.uz
                                - Yo'nalishlar: Elektr energetikasi, Issiqlik energetikasi, Axborot texnologiyalari, Payvandlash, Avtomobil transporti
                                - Guruhlar: AVM-1-25, AVM-2-24, EM-1-25, P-1-25, AT-1-25 va boshqalar
                                
                                Dars jadvali ma'lumotlari:
                                ${JSON.stringify(scheduleData, null, 2)}
                                
                                O'zbek tilida, batafsil va aniq javob bering. Savolga mos javob bering.`
                            },
                            {
                                role: "user",
                                content: message
                            }
                        ],
                        max_tokens: 500,
                        temperature: 0.7
                    })
                });

                if (!response.ok) {
                    throw new Error(`OpenAI API error: ${response.status}`);
                }

                const data = await response.json();
                return data.choices[0].message.content;
                
            } catch (error) {
                console.error('OpenAI API xatosi:', error);
                // Agar OpenAI ishlamasa, local backup
                return localAIResponse(message);
            }
        }

        // Local backup AI
        function localAIResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            if (lowerMessage.includes('dars') && lowerMessage.includes('jadval')) {
                return "Dars jadvalini ko'rish uchun yuqoridagi 'Dars jadvali' bo'limiga o'ting. AVM-2-24 guruhi dars jadvali avtomatik ko'rinadi.";
            }
            if (lowerMessage.includes('avm2-24')) {
                return "AVM-2-24 guruhi dars jadvali: Dushanba - Web dasturlash, Seshanba - Fizika, Chorshanba - D.X.A, Payshanba - Dasturlash asoslari, Juma - Web dasturlash";
            }
            if (lowerMessage.includes('salom')) {
                return "Salom! Shirin Energetika Texnikumi AI yordamchisiman. Sizga qanday yordam bera olaman?";
            }
            if (lowerMessage.includes('o\'qituvchi')) {
                return "O'qituvchilar haqida ma'lumot olish uchun 'O'qituvchilar' bo'limiga o'ting.";
            }
            if (lowerMessage.includes('aloqa')) {
                return "Kollej bilan bog'lanish: üìû +998 67 123 45 67, üìß info@shirinenergetika.uz";
            }
            
            return "Kechirasiz, savolingizni tushunmadim. Iltimos, batafsilroq so'rang yoki quyidagi mavzulardan birini tanlang: dars jadvali, o'qituvchilar, aloqa.";
        }

        // ==================== UI FUNCTIONS ====================
        function displaySchedule(group, day = 'all') {
            const tableBody = document.querySelector('#schedule-table tbody');
            tableBody.innerHTML = '';
            
            if (!group || !scheduleData[group]) {
                tableBody.innerHTML = '<tr><td colspan="6" style="text-align: center;">Iltimos, guruhni tanlang</td></tr>';
                return;
            }
            
            const schedule = scheduleData[group];
            const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday'];
            
            for (let i = 0; i < 4; i++) {
                const tr = document.createElement('tr');
                const timeTd = document.createElement('td');
                timeTd.className = 'time-column';
                timeTd.textContent = `${i + 1}-dars`;
                tr.appendChild(timeTd);
                
                days.forEach(dayKey => {
                    const dayTd = document.createElement('td');
                    if (day === 'all' || day === dayKey) {
                        dayTd.textContent = schedule[dayKey] && schedule[dayKey][i] ? schedule[dayKey][i] : '';
                    }
                    tr.appendChild(dayTd);
                });
                tableBody.appendChild(tr);
            }
        }

        function displayStudents() {
            const container = document.getElementById('students-container');
            container.innerHTML = '';
            studentsData.forEach((student, index) => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div class="card-img">O'QUVCHI ${index + 1}</div>
                    <div class="card-content">
                        <h3>${student.name}</h3>
                        <p><strong>Guruh:</strong> ${student.group}</p>
                        <p><strong>Mutaxassislik:</strong> ${student.specialty}</p>
                        <p><strong>Telefon:</strong> ${student.phone}</p>
                        <p><strong>Yutuqlar:</strong> ${student.achievements.join(', ')}</p>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function displayTeachers() {
            const container = document.getElementById('teachers-container');
            container.innerHTML = '';
            teachersData.forEach((teacher, index) => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div class="card-img">O'QITUVCHI ${index + 1}</div>
                    <div class="card-content">
                        <h3>${teacher.name}</h3>
                        <p><strong>Lavozim:</strong> ${teacher.position}</p>
                        <p><strong>Mutaxassislik:</strong> ${teacher.specialty}</p>
                        <p><strong>Tajriba:</strong> ${teacher.experience}</p>
                        <p><strong>Fanlar:</strong> ${teacher.subjects.join(', ')}</p>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function displayNews() {
            const container = document.getElementById('news-container');
            container.innerHTML = '';
            newsData.forEach((news, index) => {
                const newsItem = document.createElement('div');
                newsItem.className = 'news-item';
                newsItem.innerHTML = `
                    <div class="news-img">YANGILIK ${index + 1}</div>
                    <div class="news-content">
                        <div class="news-date">${formatDate(news.date)}</div>
                        <h3>${news.title}</h3>
                        <p>${news.content}</p>
                    </div>
                `;
                container.appendChild(newsItem);
            });
        }

        function formatDate(dateString) {
            return new Date(dateString).toLocaleDateString('uz-UZ', { year: 'numeric', month: 'long', day: 'numeric' });
        }

        function addMessage(message, isUser = false) {
            const chatBody = document.getElementById('chatBody');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${isUser ? 'user-message' : 'bot-message'}`;
            messageDiv.innerHTML = `<p>${message}</p>`;
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        async function handleUserMessage() {
            const chatInput = document.getElementById('chatInput');
            const message = chatInput.value.trim();
            
            if (message) {
                addMessage(message, true);
                chatInput.value = '';
                
                // Loading indicator
                const loadingMsg = document.createElement('div');
                loadingMsg.className = 'chat-message bot-message loading';
                loadingMsg.innerHTML = '<p>‚è≥ Javob yozilmoqda...</p>';
                document.getElementById('chatBody').appendChild(loadingMsg);
                
                try {
                    const reply = await sendToAIBot(message);
                    loadingMsg.remove();
                    addMessage(reply);
                } catch (error) {
                    loadingMsg.remove();
                    addMessage("Kechirasiz, texnik xatolik yuz berdi. Iltimos, keyinroq urinib ko'ring.");
                }
            }
        }

        // ==================== INITIALIZATION ====================
        document.addEventListener('DOMContentLoaded', function() {
            // Avtomatik AVM-2-24 guruhini ko'rsatish
            displaySchedule("avm2-24", "all");
            
            // Event listeners
            document.getElementById('group-select').addEventListener('change', function() {
                displaySchedule(this.value, document.getElementById('day-select').value);
            });
            
            document.getElementById('day-select').addEventListener('change', function() {
                displaySchedule(document.getElementById('group-select').value, this.value);
            });
            
            // Ma'lumotlarni ko'rsatish
            displayStudents();
            displayTeachers();
            displayNews();
            
            // Chat handlers
            document.querySelector('.ai-chat-btn').addEventListener('click', function() {
                document.getElementById('chatModal').style.display = 'flex';
            });
            
            document.querySelector('.close-chat').addEventListener('click', function() {
                document.getElementById('chatModal').style.display = 'none';
            });
            
            document.getElementById('sendBtn').addEventListener('click', handleUserMessage);
            document.getElementById('chatInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') handleUserMessage();
            });
            
            // Smooth scroll
            document.querySelectorAll('nav a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetSection = document.getElementById(targetId);
                    window.scrollTo({top: targetSection.offsetTop - 80, behavior: 'smooth'});
                });
            });
        });
    </script>
</body>
</html>
